<link rel="import" href="../bower_components/polymer/polymer.html" />
<link rel="import" href="../bower_components/core-elements/core-elements.html" />
<link rel="import" href="../bower_components/paper-elements/paper-elements.html" />
<link rel="import" href="../bower_components/core-ajax/core-ajax.html" />

<polymer-element name="module-card" attributes="url">

    <template>
        <style>
            paper-card {
                font-family: RobotoDraft;
                padding: 35px;
                margin: 5px;
                background-color: #2c3a40;
                color: white;
                height: 500px;
            } 
        </style>

        <!--<paper-card flex vertical layout z="1">
            <paper-input type="text" label="Search" placeholder="Name" on-change="{{search}}" value="{{query}}"></paper-input>
        </paper-card>-->

        <paper-card vertical layout z="1" flex>
            <div fit style="overflow:auto;">
                <core-list data="{{set}}" class="mylist"  style="height: 100%" flex multi>
                    <template>
                        <div layout vertical flex>
                            <div data-index="{{index}}">
                                <paper-item>
                                    {{model.Opleidingnaam}}
                                    {{model.Modulenaam}}
                                </paper-item>
                            </div>
                        </div>
                    </template>
                </core-list>
            </div>
        </paper-card>

        <core-ajax auto
                    id="module_submit"
                    url="{{url}}"
                    response="{{set}}"
                    method="POST"
                    handleas="json">
        </core-ajax>
</template>


    <script>
        Polymer('module-card', {
            success: function (response) {
                console.log("data!");
                alert(this.response);
            },
            responseChanged: function (oldValue) {
                console.log("data!");
                console.log(this.response);
            },
            error: function (xhr, ajaxOptions, thrownError) {
                alert(xhr.status);
                alert(xhr.responseText);
                alert(thrownError);
            }
        });
    </script>
</polymer-element>
