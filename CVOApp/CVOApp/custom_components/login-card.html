<link rel="import" href="../bower_components/polymer/polymer.html" /> 
<link rel="import" href="../bower_components/core-elements/core-elements.html" />
<link rel="import" href="../bower_components/paper-elements/paper-elements.html" />
<link rel="import" href="../bower_components/core-ajax/core-ajax.html" />
<link rel="import" href="../bower_components/core-icons/social-icons.html" />
<polymer-element name="login-card" attributes="url">
   
    <template>
        <style>
            paper-card.base {
                font-family: RobotoDraft;
                margin: 10px;
                background-color: #fff;
                color: black;
                height: 100px;
                max-width: 800px;
            }

            paper-input {
                padding-left: 30px;
             
            }

            .button {
                width: 300px;
                height: 100px;
                border-left: thin solid;
                border-left-width: 1px;
                border-left-color: lightgrey;
                font-size: 40px;
                padding: 0px;
                
            }
            .icon{
                width: 200px;
                height: 440px;
                color: #0094ff;
            }
        </style>

        <paper-card class="base" horizontal layout z="1">
            <div style="width: 500px;" horizontal layout>
                <paper-input floatinglabel type="text" label="Cursistnummer" value="{{cursistnummer}}"></paper-input>
                <paper-input floatinglabel type="password" label="Wachtwoord" value="{{wachtwoord}}"></paper-input>
            </div>
                <paper-button class="button" on-click="{{login}}" z="0">login</paper-button>
               
        </paper-card>

        <core-ajax id="login_submit"
                   url="{{url}}"
                   params='{ "cursistnummer": "{{cursistnummer}}" , "wachtwoord": "{{password}}"}'
                   response="{{data}}"
                   method="POST"
                   handleas="json">
        </core-ajax>
    </template>
    
    
    <script>
        Polymer('login-card', {
            success: function (response) {
                console.log("data!");
                alert(this.response);
            },
            login: function () {
                this.$.login_submit.go();
                console.log("button works!");
            },
            responseChanged: function (oldValue) {
                console.log("data!");
                console.log(this.response);
            },
            error: function (xhr, ajaxOptions, thrownError) {
                alert(xhr.status);
                alert(xhr.responseText);
                alert(thrownError);
            }
        });
    </script>
</polymer-element>